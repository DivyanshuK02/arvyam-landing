/**
 * ARVYAM LanguageSwitch Styles
 * Step 8: Language toggle component
 * 
 * Constitutional Compliance:
 * - Guest-First: Clean, simple toggle
 * - ARVY Persona: Calm colors, soft shadows
 * - Accessibility: WCAG 2.1 AA (contrast, focus, touch targets)
 */

/* ═══════════════════════════════════════════════════════════════════════════════
   Container
   ═══════════════════════════════════════════════════════════════════════════════ */

.language-switch {
  display: inline-flex;
  gap: 0.5rem;
  align-items: center;
  padding: 0.25rem;
  border-radius: 8px;
  background: rgba(255, 255, 255, 0.95);
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
  
  /* Ensure minimum touch targets */
  min-height: 44px;
}

/* ═══════════════════════════════════════════════════════════════════════════════
   Buttons
   ═══════════════════════════════════════════════════════════════════════════════ */

.language-switch__button {
  /* Reset button styles */
  appearance: none;
  border: none;
  background: transparent;
  padding: 0.5rem 1rem;
  margin: 0;
  cursor: pointer;
  
  /* Typography */
  font-family: var(--font-family-base, system-ui, sans-serif);
  font-size: 0.875rem;
  font-weight: 500;
  line-height: 1.4;
  color: #6b7280; /* Gray-500 */
  
  /* Layout */
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 48px;
  min-height: 36px; /* 44px - 2×4px padding from container */
  
  /* Visual */
  border-radius: 6px;
  transition: all 0.2s ease;
  
  /* Touch targets (WCAG) */
  position: relative;
}

/* Hover state */
.language-switch__button:hover {
  background: rgba(251, 146, 60, 0.08); /* ARVYAM orange tint */
  color: #fb923c; /* Orange-400 */
}

/* Focus state (WCAG 2.1 AA) */
.language-switch__button:focus {
  outline: 2px solid #fb923c; /* ARVYAM orange */
  outline-offset: 2px;
  box-shadow: 0 0 0 4px rgba(251, 146, 60, 0.15); /* Focus halo */
}

/* Active/Selected state */
.language-switch__button--active,
.language-switch__button[aria-pressed="true"] {
  background: #fb923c; /* ARVYAM orange */
  color: #ffffff;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

.language-switch__button--active:hover,
.language-switch__button[aria-pressed="true"]:hover {
  background: #f97316; /* Orange-500 (slightly darker) */
}

/* Disabled state */
.language-switch__button:disabled {
  cursor: not-allowed;
  opacity: 0.5;
  background: transparent;
  color: #9ca3af; /* Gray-400 */
}

/* ═══════════════════════════════════════════════════════════════════════════════
   Floating Position (if no container provided)
   ═══════════════════════════════════════════════════════════════════════════════ */

.language-switch-floating {
  position: fixed;
  z-index: 9998; /* Below modals (9999+), above content */
  
  /* Shadow for elevation */
  filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));
}

.language-switch-floating--top-right {
  top: 1rem;
  right: 1rem;
}

.language-switch-floating--top-left {
  top: 1rem;
  left: 1rem;
}

.language-switch-floating--bottom-right {
  bottom: 1rem;
  right: 1rem;
}

.language-switch-floating--bottom-left {
  bottom: 1rem;
  left: 1rem;
}

/* ═══════════════════════════════════════════════════════════════════════════════
   Screen Reader Only (for announcements)
   ═══════════════════════════════════════════════════════════════════════════════ */

.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* ═══════════════════════════════════════════════════════════════════════════════
   Responsive (Mobile)
   ═══════════════════════════════════════════════════════════════════════════════ */

@media (max-width: 640px) {
  .language-switch {
    gap: 0.25rem;
    padding: 0.125rem;
  }
  
  .language-switch__button {
    padding: 0.375rem 0.75rem;
    font-size: 0.813rem; /* Slightly smaller on mobile */
    min-width: 44px; /* Maintain touch target */
  }
  
  .language-switch-floating {
    /* Adjust floating position for mobile */
  }
  
  .language-switch-floating--top-right {
    top: 0.75rem;
    right: 0.75rem;
  }
}

/* ═══════════════════════════════════════════════════════════════════════════════
   Dark Mode Support (future Step 12)
   ═══════════════════════════════════════════════════════════════════════════════ */

@media (prefers-color-scheme: dark) {
  .language-switch {
    background: rgba(31, 41, 55, 0.95); /* Gray-800 */
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
  }
  
  .language-switch__button {
    color: #d1d5db; /* Gray-300 */
  }
  
  .language-switch__button:hover {
    background: rgba(251, 146, 60, 0.15);
    color: #fbbf24; /* Amber-400 (better dark mode contrast) */
  }
  
  .language-switch__button:focus {
    outline-color: #fbbf24;
    box-shadow: 0 0 0 4px rgba(251, 191, 36, 0.2);
  }
  
  .language-switch__button--active,
  .language-switch__button[aria-pressed="true"] {
    background: #f59e0b; /* Amber-500 */
    color: #1f2937; /* Gray-800 (dark text on bright button) */
  }
}

/* ═══════════════════════════════════════════════════════════════════════════════
   Print Styles
   ═══════════════════════════════════════════════════════════════════════════════ */

@media print {
  .language-switch,
  .language-switch-floating {
    display: none; /* Hide language switch when printing */
  }
}

/* ═══════════════════════════════════════════════════════════════════════════════
   Reduced Motion (A11y)
   ═══════════════════════════════════════════════════════════════════════════════ */

@media (prefers-reduced-motion: reduce) {
  .language-switch__button {
    transition: none;
  }
}

/* ═══════════════════════════════════════════════════════════════════════════════
   High Contrast Mode (Windows)
   ═══════════════════════════════════════════════════════════════════════════════ */

@media (prefers-contrast: high) {
  .language-switch {
    border: 2px solid currentColor;
  }
  
  .language-switch__button {
    border: 1px solid currentColor;
  }
  
  .language-switch__button:focus {
    outline-width: 3px;
  }
}

/* ═══════════════════════════════════════════════════════════════════════════════
   NOTES FOR STEP 12 (Museum-Grade Polish)
   ═══════════════════════════════════════════════════════════════════════════════

   1. Animation refinements:
      - Add micro-interactions (scale on active)
      - Smooth language transition (fade in/out)
      - Loading state during stringbank fetch

   2. Visual polish:
      - Subtle gradient on active state
      - Better shadow hierarchy
      - Custom font for language labels

   3. Layout integration:
      - Position in site header
      - Align with other nav elements
      - Responsive breakpoint refinements

   4. Accessibility enhancements:
      - Voice control support
      - Better screen reader announcements
      - Keyboard shortcut (Alt+L?)

   ═══════════════════════════════════════════════════════════════════════════════ */
